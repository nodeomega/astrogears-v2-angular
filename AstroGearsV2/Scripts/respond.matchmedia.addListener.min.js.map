{"version":3,"sources":["respond.matchmedia.addListener.js"],"names":["w","matchMedia","doc","undefined","bool","docElem","documentElement","refNode","firstElementChild","firstChild","fakeBody","createElement","div","id","style","cssText","background","appendChild","q","innerHTML","insertBefore","offsetWidth","removeChild","matches","media","document","this","addListener","localMatchMedia","hasMediaQueries","isListening","timeoutID","queries","handleChange","evt","clearTimeout","setTimeout","i","il","length","mql","listeners","j","jl","call","index","listener","addEventListener","push","removeListener","splice","callMedia","applyMedia","respond","update","requestQueue","xmlHttp","xmlhttpmethod","XMLHttpRequest","e","ActiveXObject","ajax","url","callback","req","open","onreadystatechange","readyState","status","responseText","send","queue","regex","keyframes","urls","findStyles","only","minw","maxw","mediaQueriesSupported","lastCall","resizeDefer","eminpx","mediastyles","rules","appendedEls","parsedSheets","resizeThrottle","head","getElementsByTagName","base","links","getEmValue","ret","body","originalHTMLFontSize","fontSize","originalBodyFontSize","fakeUsed","parseFloat","fromResize","name","docElemProp","currWidth","compatMode","styleBlocks","lastLink","now","Date","getTime","hasOwnProperty","thisstyle","min","max","minnull","maxnull","em","indexOf","hasquery","parentNode","k","ss","css","join","type","nextSibling","styleSheet","createTextNode","translate","styles","href","qs","replace","match","ql","substring","lastIndexOf","repUrls","useMedia","fullq","thisq","eachq","eql","RegExp","$1","$2","split","makeRequests","thisRequest","shift","ripCSS","sheet","isCSS","rel","toLowerCase","rawCssText","test","location","host","protocol","attachEvent"],"mappings":"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","file":"respond.matchmedia.addListener.min.js","sourcesContent":["/*! matchMedia() polyfill - Test a CSS media type/query in JS. Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas. Dual MIT/BSD license */\n/*! NOTE: If you're already including a window.matchMedia polyfill via Modernizr or otherwise, you don't need this part */\n(function(w) {\n  \"use strict\";\n  w.matchMedia = w.matchMedia || function(doc, undefined) {\n    var bool, docElem = doc.documentElement, refNode = docElem.firstElementChild || docElem.firstChild, fakeBody = doc.createElement(\"body\"), div = doc.createElement(\"div\");\n    div.id = \"mq-test-1\";\n    div.style.cssText = \"position:absolute;top:-100em\";\n    fakeBody.style.background = \"none\";\n    fakeBody.appendChild(div);\n    return function(q) {\n      div.innerHTML = '&shy;<style media=\"' + q + '\"> #mq-test-1 { width: 42px; }</style>';\n      docElem.insertBefore(fakeBody, refNode);\n      bool = div.offsetWidth === 42;\n      docElem.removeChild(fakeBody);\n      return {\n        matches: bool,\n        media: q\n      };\n    };\n  }(w.document);\n})(this);\n\n/*! matchMedia() polyfill addListener/removeListener extension. Author & copyright (c) 2012: Scott Jehl. Dual MIT/BSD license */\n(function(w) {\n  \"use strict\";\n  if (w.matchMedia && w.matchMedia(\"all\").addListener) {\n    return false;\n  }\n  var localMatchMedia = w.matchMedia, hasMediaQueries = localMatchMedia(\"only all\").matches, isListening = false, timeoutID = 0, queries = [], handleChange = function(evt) {\n    w.clearTimeout(timeoutID);\n    timeoutID = w.setTimeout(function() {\n      for (var i = 0, il = queries.length; i < il; i++) {\n        var mql = queries[i].mql, listeners = queries[i].listeners || [], matches = localMatchMedia(mql.media).matches;\n        if (matches !== mql.matches) {\n          mql.matches = matches;\n          for (var j = 0, jl = listeners.length; j < jl; j++) {\n            listeners[j].call(w, mql);\n          }\n        }\n      }\n    }, 30);\n  };\n  w.matchMedia = function(media) {\n    var mql = localMatchMedia(media), listeners = [], index = 0;\n    mql.addListener = function(listener) {\n      if (!hasMediaQueries) {\n        return;\n      }\n      if (!isListening) {\n        isListening = true;\n        w.addEventListener(\"resize\", handleChange, true);\n      }\n      if (index === 0) {\n        index = queries.push({\n          mql: mql,\n          listeners: listeners\n        });\n      }\n      listeners.push(listener);\n    };\n    mql.removeListener = function(listener) {\n      for (var i = 0, il = listeners.length; i < il; i++) {\n        if (listeners[i] === listener) {\n          listeners.splice(i, 1);\n        }\n      }\n    };\n    return mql;\n  };\n})(this);\n\n/*! Respond.js v1.4.0: min/max-width media query polyfill. (c) Scott Jehl. MIT Lic. j.mp/respondjs  */\n(function(w) {\n  \"use strict\";\n  var respond = {};\n  w.respond = respond;\n  respond.update = function() {};\n  var requestQueue = [], xmlHttp = function() {\n    var xmlhttpmethod = false;\n    try {\n      xmlhttpmethod = new w.XMLHttpRequest();\n    } catch (e) {\n      xmlhttpmethod = new w.ActiveXObject(\"Microsoft.XMLHTTP\");\n    }\n    return function() {\n      return xmlhttpmethod;\n    };\n  }(), ajax = function(url, callback) {\n    var req = xmlHttp();\n    if (!req) {\n      return;\n    }\n    req.open(\"GET\", url, true);\n    req.onreadystatechange = function() {\n      if (req.readyState !== 4 || req.status !== 200 && req.status !== 304) {\n        return;\n      }\n      callback(req.responseText);\n    };\n    if (req.readyState === 4) {\n      return;\n    }\n    req.send(null);\n  };\n  respond.ajax = ajax;\n  respond.queue = requestQueue;\n  respond.regex = {\n    media: /@media[^\\{]+\\{([^\\{\\}]*\\{[^\\}\\{]*\\})+/gi,\n    keyframes: /@(?:\\-(?:o|moz|webkit)\\-)?keyframes[^\\{]+\\{(?:[^\\{\\}]*\\{[^\\}\\{]*\\})+[^\\}]*\\}/gi,\n    urls: /(url\\()['\"]?([^\\/\\)'\"][^:\\)'\"]+)['\"]?(\\))/g,\n    findStyles: /@media *([^\\{]+)\\{([\\S\\s]+?)$/,\n    only: /(only\\s+)?([a-zA-Z]+)\\s?/,\n    minw: /\\([\\s]*min\\-width\\s*:[\\s]*([\\s]*[0-9\\.]+)(px|em)[\\s]*\\)/,\n    maxw: /\\([\\s]*max\\-width\\s*:[\\s]*([\\s]*[0-9\\.]+)(px|em)[\\s]*\\)/\n  };\n  respond.mediaQueriesSupported = w.matchMedia && w.matchMedia(\"only all\") !== null && w.matchMedia(\"only all\").matches;\n  if (respond.mediaQueriesSupported) {\n    return;\n  }\n  var doc = w.document, docElem = doc.documentElement, mediastyles = [], rules = [], appendedEls = [], parsedSheets = {}, resizeThrottle = 30, head = doc.getElementsByTagName(\"head\")[0] || docElem, base = doc.getElementsByTagName(\"base\")[0], links = head.getElementsByTagName(\"link\"), lastCall, resizeDefer, eminpx, getEmValue = function() {\n    var ret, div = doc.createElement(\"div\"), body = doc.body, originalHTMLFontSize = docElem.style.fontSize, originalBodyFontSize = body && body.style.fontSize, fakeUsed = false;\n    div.style.cssText = \"position:absolute;font-size:1em;width:1em\";\n    if (!body) {\n      body = fakeUsed = doc.createElement(\"body\");\n      body.style.background = \"none\";\n    }\n    docElem.style.fontSize = \"100%\";\n    body.style.fontSize = \"100%\";\n    body.appendChild(div);\n    if (fakeUsed) {\n      docElem.insertBefore(body, docElem.firstChild);\n    }\n    ret = div.offsetWidth;\n    if (fakeUsed) {\n      docElem.removeChild(body);\n    } else {\n      body.removeChild(div);\n    }\n    docElem.style.fontSize = originalHTMLFontSize;\n    if (originalBodyFontSize) {\n      body.style.fontSize = originalBodyFontSize;\n    }\n    ret = eminpx = parseFloat(ret);\n    return ret;\n  }, applyMedia = function(fromResize) {\n    var name = \"clientWidth\", docElemProp = docElem[name], currWidth = doc.compatMode === \"CSS1Compat\" && docElemProp || doc.body[name] || docElemProp, styleBlocks = {}, lastLink = links[links.length - 1], now = new Date().getTime();\n    if (fromResize && lastCall && now - lastCall < resizeThrottle) {\n      w.clearTimeout(resizeDefer);\n      resizeDefer = w.setTimeout(applyMedia, resizeThrottle);\n      return;\n    } else {\n      lastCall = now;\n    }\n    for (var i in mediastyles) {\n      if (mediastyles.hasOwnProperty(i)) {\n        var thisstyle = mediastyles[i], min = thisstyle.minw, max = thisstyle.maxw, minnull = min === null, maxnull = max === null, em = \"em\";\n        if (!!min) {\n          min = parseFloat(min) * (min.indexOf(em) > -1 ? eminpx || getEmValue() : 1);\n        }\n        if (!!max) {\n          max = parseFloat(max) * (max.indexOf(em) > -1 ? eminpx || getEmValue() : 1);\n        }\n        if (!thisstyle.hasquery || (!minnull || !maxnull) && (minnull || currWidth >= min) && (maxnull || currWidth <= max)) {\n          if (!styleBlocks[thisstyle.media]) {\n            styleBlocks[thisstyle.media] = [];\n          }\n          styleBlocks[thisstyle.media].push(rules[thisstyle.rules]);\n        }\n      }\n    }\n    for (var j in appendedEls) {\n      if (appendedEls.hasOwnProperty(j)) {\n        if (appendedEls[j] && appendedEls[j].parentNode === head) {\n          head.removeChild(appendedEls[j]);\n        }\n      }\n    }\n    appendedEls.length = 0;\n    for (var k in styleBlocks) {\n      if (styleBlocks.hasOwnProperty(k)) {\n        var ss = doc.createElement(\"style\"), css = styleBlocks[k].join(\"\\n\");\n        ss.type = \"text/css\";\n        ss.media = k;\n        head.insertBefore(ss, lastLink.nextSibling);\n        if (ss.styleSheet) {\n          ss.styleSheet.cssText = css;\n        } else {\n          ss.appendChild(doc.createTextNode(css));\n        }\n        appendedEls.push(ss);\n      }\n    }\n  }, translate = function(styles, href, media) {\n    var qs = styles.replace(respond.regex.keyframes, \"\").match(respond.regex.media), ql = qs && qs.length || 0;\n    href = href.substring(0, href.lastIndexOf(\"/\"));\n    var repUrls = function(css) {\n      return css.replace(respond.regex.urls, \"$1\" + href + \"$2$3\");\n    }, useMedia = !ql && media;\n    if (href.length) {\n      href += \"/\";\n    }\n    if (useMedia) {\n      ql = 1;\n    }\n    for (var i = 0; i < ql; i++) {\n      var fullq, thisq, eachq, eql;\n      if (useMedia) {\n        fullq = media;\n        rules.push(repUrls(styles));\n      } else {\n        fullq = qs[i].match(respond.regex.findStyles) && RegExp.$1;\n        rules.push(RegExp.$2 && repUrls(RegExp.$2));\n      }\n      eachq = fullq.split(\",\");\n      eql = eachq.length;\n      for (var j = 0; j < eql; j++) {\n        thisq = eachq[j];\n        mediastyles.push({\n          media: thisq.split(\"(\")[0].match(respond.regex.only) && RegExp.$2 || \"all\",\n          rules: rules.length - 1,\n          hasquery: thisq.indexOf(\"(\") > -1,\n          minw: thisq.match(respond.regex.minw) && parseFloat(RegExp.$1) + (RegExp.$2 || \"\"),\n          maxw: thisq.match(respond.regex.maxw) && parseFloat(RegExp.$1) + (RegExp.$2 || \"\")\n        });\n      }\n    }\n    applyMedia();\n  }, makeRequests = function() {\n    if (requestQueue.length) {\n      var thisRequest = requestQueue.shift();\n      ajax(thisRequest.href, function(styles) {\n        translate(styles, thisRequest.href, thisRequest.media);\n        parsedSheets[thisRequest.href] = true;\n        w.setTimeout(function() {\n          makeRequests();\n        }, 0);\n      });\n    }\n  }, ripCSS = function() {\n    for (var i = 0; i < links.length; i++) {\n      var sheet = links[i], href = sheet.href, media = sheet.media, isCSS = sheet.rel && sheet.rel.toLowerCase() === \"stylesheet\";\n      if (!!href && isCSS && !parsedSheets[href]) {\n        if (sheet.styleSheet && sheet.styleSheet.rawCssText) {\n          translate(sheet.styleSheet.rawCssText, href, media);\n          parsedSheets[href] = true;\n        } else {\n          if (!/^([a-zA-Z:]*\\/\\/)/.test(href) && !base || href.replace(RegExp.$1, \"\").split(\"/\")[0] === w.location.host) {\n            if (href.substring(0, 2) === \"//\") {\n              href = w.location.protocol + href;\n            }\n            requestQueue.push({\n              href: href,\n              media: media\n            });\n          }\n        }\n      }\n    }\n    makeRequests();\n  };\n  ripCSS();\n  respond.update = ripCSS;\n  respond.getEmValue = getEmValue;\n  function callMedia() {\n    applyMedia(true);\n  }\n  if (w.addEventListener) {\n    w.addEventListener(\"resize\", callMedia, false);\n  } else if (w.attachEvent) {\n    w.attachEvent(\"onresize\", callMedia);\n  }\n})(this);"],"sourceRoot":"/source/"}