var CommonLibrary;!function(e){function t(e){return e.map(function(e){return new o(e)})}function r(e,t,r){if(n(t)||n(r)||t>r||isNaN(e))return!1;var a=parseInt(e);return a>=t==a<=r}function n(e){return"undefined"==typeof e||null===e}function a(e,t){return Math.floor(Math.random()*t+e)}function i(e){var t=new Date(null);return t.setSeconds(e),t.toISOString().substr(11,8)}Array.prototype.contains=function(e){for(var t=0;t<this.length;t++)if(JSON.stringify(this[t])===JSON.stringify(e))return!0;return!1},Array.prototype.unique=function(){for(var e=[],t=0;t<this.length;t++)e.contains(this[t])||e.push(this[t]);return e},e.errorIcon='<span class="fa fa-exclamation-triangle error"></span>',e.successIcon='<span class="fa fa-check-circle action-successful"></span>',e.coffeeIcon='<span class="fa fa-coffee coffee"></span>',e.momentFormat="MM/DD/YYYY HH:mm";var o=function(){function e(e){var t=this;t.name=e,t.value=e.replace(/\s/g,"")}return e}();e.TextLabel=o,e.CreateTextLabelList=t,e.IsInRange=r,e.IsNullOrUndefined=n,e.RandomInteger=a,e.ConvertSecondsToHoursMinutesSeconds=i}(CommonLibrary||(CommonLibrary={}));var Core;!function(e){"use strict";e.appModule=angular.module("astrogears",["ngAnimate","ngSanitize"]),e.appModule.controller("enteredChartsListingController",["$scope","$filter","enteredChartsListingService",function(t,r,n){return new e.Application.Controllers.EnteredChartsListingController(t,r,n)}]),e.appModule.factory("enteredChartsListingService",["$http","$location",function(t,r){return new e.Application.Services.EnteredChartsListingService(t,r)}]),e.appModule.directive("addNewEnteredChartModal",["$compile",function(t){return new e.Application.Directives.AddNewEnteredChartModal(t)}]),e.appModule.directive("editEnteredChartModal",["$compile",function(t){return new e.Application.Directives.EditEnteredChartModal(t)}])}(Core||(Core={}));var Core;!function(e){"use strict";var t;!function(e){var t;!function(e){var t=function(){function e(e,t){this.http=e,this.location=t}return e.prototype.getEnteredChartListing=function(e,t){return this.http({method:"POST",url:"/api/EnteredChartsApi/GetEnteredChartsListing",data:{PageNumber:e,EntriesPerPage:t},headers:{"Content-Type":"application/json"}})},e.prototype.getEnteredChart=function(e){return this.http({method:"POST",url:"/api/EnteredChartsApi/GetEnteredChart",data:{Id:e},headers:{"Content-Type":"application/json"}})},e.prototype.getChartTypesList=function(){return this.http({method:"POST",url:"/api/ChartTypesApi/GetChartTypesList",headers:{"Content-Type":"application/json"}})},e.prototype.addNewChart=function(e,t,r,n,a){return this.http({method:"POST",url:"/api/EnteredChartsApi/AddNewChart",data:{SubjectName:e,SubjectLocation:t,OriginDateTime:r,OriginDateTimeUnknown:n,ChartTypeId:a},headers:{"Content-Type":"application/json"}})},e.prototype.editChart=function(e,t,r,n,a,i){return this.http({method:"POST",url:"/api/EnteredChartsApi/EditChart",data:{EnteredChartId:e,SubjectName:t,SubjectLocation:r,OriginDateTime:n,OriginDateTimeUnknown:a,ChartTypeId:i},headers:{"Content-Type":"application/json"}})},e}();e.EnteredChartsListingService=t}(t=e.Services||(e.Services={}))}(t=e.Application||(e.Application={}))}(Core||(Core={}));var Core;!function(e){"use strict";var t;!function(e){var t;!function(e){var t=function(){function e(e){return this.createDirective(e)}return e.prototype.createDirective=function(e){return{restrict:"E",replace:!1,scope:{modal:"=modal"},link:function(e,t){e.$watch("modal",function(){var r=e.modal?"show":"hide";t.children().modal(r)},!1)},templateUrl:"/DirectiveTemplates/AddNewEnteredChart.html"}},e}();e.AddNewEnteredChartModal=t}(t=e.Directives||(e.Directives={}))}(t=e.Application||(e.Application={}));var t;!function(e){var t;!function(e){var t=function(){function e(e){return this.createDirective(e)}return e.prototype.createDirective=function(e){return{restrict:"E",replace:!1,scope:{modal:"=modal"},link:function(e,t){e.$watch("modal",function(){var r=e.modal?"show":"hide";t.children().modal(r)},!1)},templateUrl:"/DirectiveTemplates/EditEnteredChart.html"}},e}();e.EditEnteredChartModal=t}(t=e.Directives||(e.Directives={}))}(t=e.Application||(e.Application={}))}(Core||(Core={}));var Core;!function(e){"use strict";var t;!function(e){var t;!function(e){var t=function(){function e(e,t,r){var n=this;this.scope=e,this.filter=t,this.enteredChartsListingService=r,this.data=[],this.scope.errorMessage="",this.scope.entriesPerPage=[{value:10},{value:25},{value:50},{value:100},{value:250}],this.scope.numberOfPages=[{value:1}],this.scope.totalPages=1,this.scope.currentEntriesPerPage=this.scope.entriesPerPage[0],this.scope.currentPageNumber=this.scope.numberOfPages[0],this.scope.enteredChartListing=[],this.scope.chartTypeList=[],this.scope.listingIsLoading=!1,this.scope.addingNewChart=!1,this.scope.editingChart=!1,this.scope.addNewChartChartType="",this.scope.newChart={SubjectName:"",SubjectLocation:"",OriginDateTime:"",OriginDateTimeUnknown:!1,ChartType:{ChartTypeId:0,ChartTypeName:"NULL"}},this.scope.editChart={EnteredChartId:0,SubjectName:"",SubjectLocation:"",OriginDateTime:"",OriginDateTimeUnknown:!1,ChartType:{ChartTypeId:0,ChartTypeName:"NULL"}},this.scope.OpenCreateNewChartForm=function(){var e=n;e.scope.addingNewChart=!0,e.scope.GetChartTypesList(),e.scope.ChartTypeList.length>0&&(e.scope.addNewChart.ChartType=e.scope.chartTypeList[0])},this.scope.CloseCreateNewChartForm=function(){var e=n;e.scope.addingNewChart=!1},this.scope.OpenEditChartForm=function(e){var t=n;t.scope.editingChart=!0,t.scope.GetChartTypesList(),t.scope.GetEnteredChart(e)},this.scope.CloseEditChartForm=function(){var e=n;e.scope.editingChart=!1},this.scope.GetEnteredChartsListing=function(e){var t=n;t.scope.listingIsLoading=!0,e&&(t.scope.currentPageNumber={value:1}),t.enteredChartsListingService.getEnteredChartListing(t.scope.currentPageNumber.value,t.scope.currentEntriesPerPage.value).then(function(r){if(t.scope.enteredChartListing=r.data.Listing,e){t.scope.numberOfPages=[{value:1}];for(var n=2;n<=r.data.TotalPages;n++)t.scope.numberOfPages.push({value:n});t.scope.totalPages=r.data.TotalPages}}).finally(function(){t.scope.listingIsLoading=!1,t.scope.entriesPerPageChanged=!1})},this.scope.GetEnteredChart=function(e){var t=n;t.enteredChartsListingService.getEnteredChart(e).then(function(e){t.scope.editChart={EnteredChartId:e.data.Chart.EnteredChartId,SubjectName:e.data.Chart.SubjectName,SubjectLocation:e.data.Chart.SubjectLocation,OriginDateTime:e.data.Chart.OriginDateTimeString,OriginDateTimeUnknown:e.data.Chart.OriginDateTimeUnknown,ChartType:{ChartTypeId:e.data.Chart.ChartTypeId,ChartTypeName:e.data.Chart.ChartTypeName}}})},this.scope.GetChartTypesList=function(){var e=n;0===e.scope.chartTypeList.length&&e.enteredChartsListingService.getChartTypesList().then(function(t){e.scope.chartTypeList=t.data.ChartTypes})},this.scope.AddNewChart=function(){var e=n;e.enteredChartsListingService.addNewChart(e.scope.newChart.SubjectName,e.scope.newChart.SubjectLocation,e.scope.newChart.OriginDateTime,e.scope.newChart.OriginDateTimeUnknown,e.scope.newChart.ChartType.ChartTypeId).then(function(t){e.scope.errorMessage=CommonLibrary.successIcon+" "+t.data.Message,e.scope.GetEnteredChartsListing(!1)}).catch(function(t){e.scope.errorMessage=CommonLibrary.errorIcon+" "+t.data.ExceptionMessage}).finally(function(){n.scope.newChart={SubjectName:"",SubjectLocation:"",OriginDateTime:"",OriginDateTimeUnknown:!1,ChartType:{ChartTypeId:0,ChartTypeName:"NULL"}},e.scope.addingNewChart=!1})},this.scope.ConfirmChartEdit=function(){var e=n;e.enteredChartsListingService.editChart(e.scope.editChart.EnteredChartId,e.scope.editChart.SubjectName,e.scope.editChart.SubjectLocation,e.scope.editChart.OriginDateTime,e.scope.editChart.OriginDateTimeUnknown,e.scope.editChart.ChartType.ChartTypeId).then(function(t){e.scope.errorMessage=CommonLibrary.successIcon+" "+t.data.Message,e.scope.GetEnteredChartsListing(!1)}).catch(function(t){e.scope.errorMessage=CommonLibrary.errorIcon+" "+t.data.ExceptionMessage}).finally(function(){n.scope.editChart={EnteredChartId:0,SubjectName:"",SubjectLocation:"",OriginDateTime:"",OriginDateTimeUnknown:!1,ChartType:{ChartTypeId:0,ChartTypeName:"NULL"}},e.scope.editingChart=!1})}}return e}();e.EnteredChartsListingController=t}(t=e.Controllers||(e.Controllers={}))}(t=e.Application||(e.Application={}))}(Core||(Core={}));
//# sourceMappingURL=outscript.min.js.map
