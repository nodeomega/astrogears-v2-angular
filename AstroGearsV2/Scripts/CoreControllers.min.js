var Core;!function(e){"use strict";var t;!function(e){var t;!function(e){var t=function(){function e(e,t,a){var r=this;this.scope=e,this.filter=t,this.enteredChartsListingService=a,this.data=[],this.scope.errorMessage="",this.scope.entriesPerPage=[{value:10},{value:25},{value:50},{value:100},{value:250}],this.scope.numberOfPages=[{value:1}],this.scope.totalPages=1,this.scope.currentEntriesPerPage=this.scope.entriesPerPage[0],this.scope.currentPageNumber=this.scope.numberOfPages[0],this.scope.enteredChartListing=[],this.scope.chartTypeList=[],this.scope.listingIsLoading=!1,this.scope.addingNewChart=!1,this.scope.editingChart=!1,this.scope.addNewChartChartType="",this.scope.newChart={SubjectName:"",SubjectLocation:"",OriginDateTime:"",OriginDateTimeUnknown:!1,ChartType:{ChartTypeId:0,ChartTypeName:"NULL"}},this.scope.editChart={EnteredChartId:0,SubjectName:"",SubjectLocation:"",OriginDateTime:"",OriginDateTimeUnknown:!1,ChartType:{ChartTypeId:0,ChartTypeName:"NULL"}},this.scope.OpenCreateNewChartForm=function(){var e=r;e.scope.addingNewChart=!0,e.scope.GetChartTypesList(),e.scope.ChartTypeList.length>0&&(e.scope.addNewChart.ChartType=e.scope.chartTypeList[0])},this.scope.CloseCreateNewChartForm=function(){var e=r;e.scope.addingNewChart=!1},this.scope.OpenEditChartForm=function(e){var t=r;t.scope.editingChart=!0,t.scope.GetChartTypesList(),t.scope.GetEnteredChart(e)},this.scope.CloseEditChartForm=function(){var e=r;e.scope.editingChart=!1},this.scope.GetEnteredChartsListing=function(e){var t=r;t.scope.listingIsLoading=!0,e&&(t.scope.currentPageNumber={value:1}),t.enteredChartsListingService.getEnteredChartListing(t.scope.currentPageNumber.value,t.scope.currentEntriesPerPage.value).then(function(a){if(t.scope.enteredChartListing=a.data.Listing,e){t.scope.numberOfPages=[{value:1}];for(var r=2;r<=a.data.TotalPages;r++)t.scope.numberOfPages.push({value:r});t.scope.totalPages=a.data.TotalPages}}).finally(function(){t.scope.listingIsLoading=!1,t.scope.entriesPerPageChanged=!1})},this.scope.GetEnteredChart=function(e){var t=r;t.enteredChartsListingService.getEnteredChart(e).then(function(e){t.scope.editChart={EnteredChartId:e.data.Chart.EnteredChartId,SubjectName:e.data.Chart.SubjectName,SubjectLocation:e.data.Chart.SubjectLocation,OriginDateTime:e.data.Chart.OriginDateTimeString,OriginDateTimeUnknown:e.data.Chart.OriginDateTimeUnknown,ChartType:{ChartTypeId:e.data.Chart.ChartTypeId,ChartTypeName:e.data.Chart.ChartTypeName}}})},this.scope.GetChartTypesList=function(){var e=r;0===e.scope.chartTypeList.length&&e.enteredChartsListingService.getChartTypesList().then(function(t){e.scope.chartTypeList=t.data.ChartTypes})},this.scope.AddNewChart=function(){var e=r;e.enteredChartsListingService.addNewChart(e.scope.newChart.SubjectName,e.scope.newChart.SubjectLocation,e.scope.newChart.OriginDateTime,e.scope.newChart.OriginDateTimeUnknown,e.scope.newChart.ChartType.ChartTypeId).then(function(t){e.scope.errorMessage=CommonLibrary.successIcon+" "+t.data.Message,e.scope.GetEnteredChartsListing(!1)}).catch(function(t){e.scope.errorMessage=CommonLibrary.errorIcon+" "+t.data.ExceptionMessage}).finally(function(){r.scope.newChart={SubjectName:"",SubjectLocation:"",OriginDateTime:"",OriginDateTimeUnknown:!1,ChartType:{ChartTypeId:0,ChartTypeName:"NULL"}},e.scope.addingNewChart=!1})},this.scope.ConfirmChartEdit=function(){var e=r;e.enteredChartsListingService.editChart(e.scope.editChart.EnteredChartId,e.scope.editChart.SubjectName,e.scope.editChart.SubjectLocation,e.scope.editChart.OriginDateTime,e.scope.editChart.OriginDateTimeUnknown,e.scope.editChart.ChartType.ChartTypeId).then(function(t){e.scope.errorMessage=CommonLibrary.successIcon+" "+t.data.Message,e.scope.GetEnteredChartsListing(!1)}).catch(function(t){e.scope.errorMessage=CommonLibrary.errorIcon+" "+t.data.ExceptionMessage}).finally(function(){r.scope.editChart={EnteredChartId:0,SubjectName:"",SubjectLocation:"",OriginDateTime:"",OriginDateTimeUnknown:!1,ChartType:{ChartTypeId:0,ChartTypeName:"NULL"}},e.scope.editingChart=!1})}}return e}();e.EnteredChartsListingController=t}(t=e.Controllers||(e.Controllers={}))}(t=e.Application||(e.Application={}))}(Core||(Core={}));
//# sourceMappingURL=CoreControllers.min.js.map
